!function(){"use strict";angular.module("myApp",["ui.router","slick"])}(),function(){"use strict";angular.module("myApp").config(["$urlRouterProvider","$stateProvider",function(e,n){e.when("","/"),n.state("main",{url:"/",templateUrl:"src/js/app/SearchVenue/templates/Main.tpl.html",controller:"SearchVenueCtrl",controllerAs:"vm"}).state("venue",{url:"/:venueID",templateUrl:"src/js/app/SingleVenue/templates/Venue.tpl.html",controller:"SingleVenueCtrl",controllerAs:"vm",resolve:{SingleVenueData:["$stateParams","FSDataService",function(e,n){var t={},r=e.venueID;return n.getVenue(r).then(function(e){return t=e.data.response.venue})["catch"](function(e){console.log(e)})}]}})}])}(),function(){"use strict";angular.module("myApp").run(["$rootScope",function(e){e.$on("$stateChangeSuccess",function(){$("html, body").animate({scrollTop:0},0)})}])}(),function(){"use strict";angular.module("myApp").value("slickBreakpoints",{breakpoints:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1,dots:!1}},{breakpoint:800,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,dots:!1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,dots:!1}}]})}(),function(){"use strict";function e(e){function n(n){return e.get("https://api.foursquare.com/v2/venues/explore?near=San-Francisco&query="+n+"&venuePhotos=1&limit=10&radius=10000&client_id=RHV1ZD3K1SPFECIGDWMOXRVQ3TGNQTUGA0QF1K1GQJ0EICIF&client_secret=4RJLQAZNTF2LE4DCSBHJKNC1BBHDUEQBSHIAFCML4GYPXGNQ&v=20140806").then(function(e){return e.data.response.groups[0].items})["catch"](function(e){return e})}function t(n){return e.get("https://api.foursquare.com/v2/venues/"+n+"/?client_id=RHV1ZD3K1SPFECIGDWMOXRVQ3TGNQTUGA0QF1K1GQJ0EICIF&client_secret=4RJLQAZNTF2LE4DCSBHJKNC1BBHDUEQBSHIAFCML4GYPXGNQ&v=20140806")}function r(n){return e.get("https://api.foursquare.com/v2/venues/"+n+"/photos?client_id=RHV1ZD3K1SPFECIGDWMOXRVQ3TGNQTUGA0QF1K1GQJ0EICIF&client_secret=4RJLQAZNTF2LE4DCSBHJKNC1BBHDUEQBSHIAFCML4GYPXGNQ&v=20140806")}function o(n){return e.get("https://api.foursquare.com/v2/venues/"+n+"/similar?client_id=RHV1ZD3K1SPFECIGDWMOXRVQ3TGNQTUGA0QF1K1GQJ0EICIF&client_secret=4RJLQAZNTF2LE4DCSBHJKNC1BBHDUEQBSHIAFCML4GYPXGNQ&v=20140806")}var i={getVenueLocationsByType:n,getVenue:t,getVenuePhotos:r,getSimilarVenues:o};return i}angular.module("myApp").factory("FSDataService",e),e.$inject=["$http"]}(),function(){"use strict";function e(){function e(e){i=[],e.map(function(e,n){i.push({title:e.venue.name,lat:e.venue.location.lat,lng:e.venue.location.lng})})}function n(){for(var e={center:new google.maps.LatLng(i[0].lat,i[0].lng),zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(document.getElementById("mapCanvas"),e),t=new google.maps.InfoWindow,r=0;r<i.length;r++){var o=i[r],a=new google.maps.LatLng(o.lat,o.lng),u=new google.maps.Marker({position:a,map:n,title:o.title});!function(e,r){google.maps.event.addListener(e,"click",function(o){t.setContent("<div style = 'width:80px;min-height:20px'>"+r.title+"</div>"),t.open(n,e)})}(u,o)}}function t(e,n,t){r(e,n,t)}function r(e,n,t){var r=new google.maps.LatLng(e,n),o={center:r,zoom:17},i=new google.maps.Map(document.getElementById("venue-canvas"),o),a=new google.maps.Marker({position:r,map:i}),u=new google.maps.InfoWindow({content:t});u.open(i,a)}var o={setSearchVenueMap:e,setVenueMap:t,getSearchVenueMap:n},i=[];return o}angular.module("myApp").factory("MapService",e)}(),function(){"use strict";function e(){return function(e){var n=["January","Febuary","March","April","May","June","July","August","September","October","November","December]"],t=new Date(parseInt(1e3*e)),r=t.getMonth()+1,o=t.getDate(),i=t.getFullYear();return n[r-1]+" "+o+" "+i}}angular.module("myApp").filter("timefilter",e)}(),function(){"use strict";function e(e,n,t){var r=this;r.venues=[],r.time=(new Date).toLocaleTimeString().replace(/:\d+ /," "),r.venueFilter=!1,r.sortType="",r.searchType="",r.search=function(){n.getVenueLocationsByType(r.searchType).then(function(e){r.searchName=r.searchType,r.venues=e,t.setSearchVenueMap(e),t.getSearchVenueMap(),r.venueFilter=!0,r.searchType=""})["catch"](function(e){console.log(e)})},r.duplicate=function(e,n){var t,r="";for(t=0;n>t;t+=1)r+=e+" ";return r}}angular.module("myApp").controller("SearchVenueCtrl",e),e.$inject=["$scope","FSDataService","MapService"]}(),function(){"use strict";angular.module("myApp").directive("loadingBar",["$timeout",function(e){return{restrict:"A",link:function(n,t,r){function o(o){r.sort&&($("li.activeLink").removeClass(a),$(u).addClass(s),$(c).addClass(i),e(function(){n.vm.sortType=r.sort,n.$digest(),$(c).removeClass(i),$(u).removeClass(s),t.parent().addClass(a)},800)),$(u).addClass(s),$(c).addClass(i),e(function(){$(c).removeClass(i),$(u).removeClass(s)},800)}var i="active",a="activeLink",u=".overlay",s="loadingOverlay",c="#spinner";t.on("click",o)}}}])}(),function(){"use strict";angular.module("myApp").directive("dropDown",function(){return{restrict:"A",link:function(e,n,t){n.on("click",function(e){$(".collapse").collapse()})}}})}(),function(){"use strict";function e(e,n,t,r){var o=this;o.venue=r,o.reviewLim=5,o.slickBP=t.breakpoints,n.setVenueMap(r.location.lat,r.location.lng,r.name)}angular.module("myApp").controller("SingleVenueCtrl",e),e.$inject=["$scope","MapService","slickBreakpoints","SingleVenueData"]}(),function(){"use strict";function e(e){function n(n,t,r){var o=[],i=[],a="original";t.on("click",function(e){e.preventDefault(),$.swipebox(i)}),e.getVenuePhotos(r.venueid).then(function(e){return o=e.data.response.photos.items},function(e){return e}).then(function(e){e.map(function(e,n){i.push(e.user.lastName?{href:e.prefix+a+e.suffix,title:e.user.firstName+" "+e.user.lastName}:{href:e.prefix+a+e.suffix,title:e.user.firstName})})})}var t={restrict:"A",scope:{venueId:"@"},link:n};return t}angular.module("myApp").directive("venuePhotoGallery",e),e.$inject=["FSDataService"]}(),function(){"use strict";function e(e){function n(n,t,r){var o=5,i=700;t.on("click",function(t){e(function(){n.vm.reviewLim+=o},i)})}var t={restrict:"A",link:n};return t}angular.module("myApp").directive("viewMoreReviews",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){return function(e){var n=[];return e?n=e.filter(function(e,n){return"Menus"===e.name?e:"Drinks"===e.name?e:void 0}):void 0}}angular.module("myApp").filter("menufilter",e)}();